## 数据库范式（范式 Normal Form）

1. 第一范式 1NF, 1st Normal Form，属性不可再分 ==> 消除非原子属性；
2. 第二范式 2NF，2nd Normal Form，满足1NF的基础上，每个非主属性完全依赖于主键 ==> 消除部分依赖；
3. 第三范式 3NF，3rd Normal Form，满足2NF的基础上，每个非主属性之间不存在依赖 ==>消除传递依赖。

4. 数据库设计中满足数据库范式的目的是让数据结构更合理、**减少冗余**、避免更新异常（更新一条数据据需要改多处、删除某条数据导致丢失其他信息等）。

## 为什么不推荐使用外键与级联？

1. 级联更新是强阻塞，不适用于分布式、高并发集群。

## drop、delete、truncate（清空数据）的区别？

1. delete是一条一条删数据，操作会被放到rollback segment中，事务提交之后才生效，且delete每删除一条数据会产生对应的数据库binlog日志，速度慢、日志也会占用空间。
2. drop和truncate操作立即生效，原数据不放到rollback segment中，且不会产生数据库日志，快很多。
3. 执行速度 drop > truncate > delete

# NoSQL数据库基础知识

1. NoSQL（Not Only SQL，泛指非关系型数据库。主要用于存储**键值对、文档、图片**类型的数据。
2. NoSQL数据库天生支持分布式，数据冗余和数据分片等特性。
3. MongoDB（文档）、Redis（键值）。

## NoSQL数据库有什么优势？跟SQL数据库的对比？ todo

1. NoSQL数据库更灵活；
2. NoSQL和SQL数据库的扩展方式不同，SQL数据库通常是垂直扩展（使用性能更强大的服务器及逆行扩展）、读写分离、分库分表；NoSQL数据库可以横向扩展（以增加服务器的方式横向扩展，通常是基于**分片机制**），NoSQL可扩展性更好。

# 分片机制 todo

# 字符集

1. ASCII (American Standard Code for Information Interchange，美国信息交换标准代码)，ASCII码的长度是一个字节（8个bit） ==> **字符和计算机二进制进行映射的过程就是字符编码和解码的过程**。
2. 乱码就是，编码和解码的时候用了不同或者不兼容的字符集。如：“牛”这个汉字 GB2312 编码后的十六进制数值为 “C5A3”，而 “C5A3” 用 UTF-8 解码之后得到的却是 “ţ”。

## UTF-8

1. 各个国家有不同的字符集，如美国的ASCII,中文字符集GB2312、GBK等 ==> Unicode把世界上几乎所有已知字符整合了，经过二进制编码后形成UTF-8（8-bit Unicode Transformation Format）。

## 如何查看数据库连接使用的字符集 character set

1. 以MySQL为例：

```sql
show variables like 'character_set_%';
```

结果如下
![alt text](image.png)

character_set_client ：描述了客户端发送给服务器的 SQL 语句使用的是什么字符集。   
character_set_connection ：描述了服务器接收到 SQL 语句时使用什么字符集进行翻译。   
character_set_results ：描述了服务器返回给客户端的结果使用的是什么字符集。

## utf8mb4和utf8

1. utf8mb4可以保存4个字节的字符，utf8只支持1-3个字节，因此utf8mb4可以存emoji（emoji是四个字节的），utf8不行。
