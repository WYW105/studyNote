# Docker

## Docker概念

1. 通过Docker下载的应用如MySQL，下载的是**应用镜像image，镜像不仅包含应用本身还包含应用运行所需的环境、配置、系统函数库等** ==> **Docker会在运行镜像时创建一个隔离环境，称为容器（container）** ==> **能跨系统运行**

2. Docker下载的应用是类似下图的已经安装好的安装包，所以是免安装的，另外再加上应用运行时所需的环境。
![alt text](image.png)

3. **容器之间是相互隔离的**，所以可以在同一个服务器上部署多个相同的应用，如MySQL，形成**应用集群**。
![alt text](image-1.png)

4. docker 命令解析:   

    (1). docker run 创建并**运行**一个**容器**，-d是让容器在后台运行；   

    (2). --name *** 给容器命名，这里是给容器命名为mysql；   

    (3). -p 映射端口，因为容器是隔离的，要把容器的端口跟实际机器的端口映射上 ==> 如果是一个服务上安装多个容器，端口要区分开。   

    (4). -e KEY=VALUE, key value分别是什么取决于安装的容器类型要求（docker hub上说明文档上会有，类似于node npm）   

    (5). 最后一行的mysql指定要下载什么镜像应用。 

```docker
docker run -d \
    --name mysql \
    -p 3306:3308 \
    -e TZ=Asia/Shanghai \
    -e MYSQL_ROOT_PASSWORD=123 \
    mysql
```

## Docker常见命令

1. docker images 查看本地所有镜像

2. docker rmi 删除镜像（remove image）

3. docker build 自定义镜像

4. docker save 把打包好的镜像保存成本地的压缩包

5. docker load加载镜像

6. docker pull 、 docker push

7. docker run **创建并运行**容器

8. docker stop 停止容器中的进程，容器还在

9. docker start 启动容器中的进程

10. docker ps 查看容器中进程的状态

11. docker rm **删除容器**

12. docker logs 查看容器中的日志

13. docker exec 进入容器
![alt text](image-3.png)